# ✅ HR Agent - Функции специалиста завершены

## 🎯 Что реализовано

### 1. **Для HR-специалистов:**

#### Регистрация и профиль
- ✅ Выбор роли при регистрации (Кандидат / HR-специалист)
- ✅ Отдельные поля в профиле для контактов (WhatsApp, Instagram, LinkedIn)
- ✅ Полная редакция профиля с возможностью добавления социальных ссылок

#### Панель управления
- ✅ Отдельный dashboard с статистикой:
  - Количество кандидатов в базе
  - Количество отправленных запросов
  - Последние 5 запросов с статусами
  
#### Поиск кандидатов (`/candidates`)
- ✅ Умный поиск по:
  - Имени кандидата
  - Навыкам (skills)
  - Должности (headline)
- ✅ Список кандидатов с превью:
  - Аватар
  - Имя, headline, локация
  - Краткое описание навыков
  - Статус резюме (загружено/нет)
- ✅ Кнопка "Посмотреть профиль"

#### Просмотр профиля кандидата (`/candidate/{id}`)
- ✅ Полная информация о кандидате:
  - Аватар, имя, headline, локация
  - Раздел "О себе"
  - Все навыки в виде бейджей
  - Контактная информация
  
- ✅ Работа с резюме:
  - **Просмотр** резюме прямо в браузере (`/view-resume/{id}`)
  - **Скачивание** резюме отдельной кнопкой
  
- ✅ Отправка запроса:
  - Форма с сообщением кандидату
  - Проверка на дубликат (нельзя отправить дважды)
  - Сохранение в базу данных

### 2. **Для кандидатов:**

#### Компактная панель уведомлений
- ✅ **Колокольчик 🔔** в навигации
- ✅ **Бейдж с количеством** непрочитанных запросов
- ✅ **Dropdown панель** при клике:
  - Компактный список всех запросов
  - Имя и должность HR-специалиста
  - Сообщение от HR
  - **Кнопки-ссылки** на социальные сети HR:
    - WhatsApp (автоматическое форматирование ссылки)
    - Instagram (автоматическое форматирование ссылки)
    - LinkedIn
  - **Кнопка "Отменить"** для удаления запроса
  - Дата и время отправки
  
- ✅ **Автообновление** каждые 30 секунд
- ✅ **Закрытие** при клике вне панели

### 3. **База данных:**

#### Новая таблица `Request`
```python
class Request(Base):
    id = Integer (primary key)
    hr_id = Integer (HR-специалист)
    candidate_id = Integer (Кандидат)
    message = Text (Сообщение)
    status = String (pending/viewed/responded)
    created_at = DateTime
    viewed_at = DateTime (nullable)
```

#### Обновленная таблица `User`
- ✅ `role` - роль пользователя ('candidate' или 'hr')
- ✅ `whatsapp` - контакт WhatsApp для HR
- ✅ `instagram` - контакт Instagram для HR

### 4. **API эндпоинты:**

```
GET  /candidates               - Поиск кандидатов (HR)
GET  /candidate/{id}           - Профиль кандидата (HR)
POST /send-request             - Отправить запрос (HR)
GET  /view-resume/{user_id}    - Просмотр резюме в браузере
GET  /api/notifications-count  - Количество уведомлений
GET  /api/my-requests          - Список запросов кандидата
POST /api/dismiss-request/{id} - Удалить запрос
```

---

## 🚀 Идеи для будущего развития

### 1. **Расширенные фильтры поиска**
- Фильтр по локации (город, страна)
- Фильтр по опыту работы (junior/middle/senior)
- Диапазон зарплатных ожиданий
- Готовность к релокации
- Фильтр "только с резюме"
- Сортировка по:
  - Дате регистрации
  - Дате обновления профиля
  - Релевантности навыков

### 2. **AI-анализ для HR**
- **Автоматическое сопоставление** кандидата с вакансией
- **Scoring система**: процент соответствия кандидата требованиям
- **Умные рекомендации**: "Топ-10 кандидатов для этой вакансии"
- **Анализ резюме** с выделением ключевых навыков
- **Сравнение** нескольких кандидатов

### 3. **Управление вакансиями**
- Создание вакансий HR-специалистом
- Публикация вакансий на платформе
- Кандидаты могут откликаться на вакансии
- Автоматическое уведомление HR об откликах
- Статусы откликов (новый, просмотрен, интервью, отклонен, принят)

### 4. **Коммуникация**
- **Внутренний чат** между HR и кандидатом
- **Видеозвонки** через платформу (WebRTC)
- **Запись интервью** с возможностью просмотра
- **Шаблоны сообщений** для HR
- **Автоответы** для частых вопросов

### 5. **Аналитика и отчеты**
- **Дашборд для HR**:
  - Сколько кандидатов просмотрено
  - Конверсия запросов в ответы
  - Среднее время отклика
  - Популярные навыки
- **Дашборд для кандидатов**:
  - Просмотры профиля
  - Рейтинг по навыкам
  - Рекомендации по улучшению резюме

### 6. **Интеграция с внешними сервисами**
- **LinkedIn импорт**: автозаполнение профиля
- **GitHub интеграция**: показ проектов и активности
- **Google Calendar**: планирование интервью
- **Zoom/Teams**: автоматическое создание ссылок на встречи
- **Email**: уведомления на почту

### 7. **Тестирование и скилл-чеки**
- **Тесты по навыкам** (JavaScript, Python, etc.)
- **Coding challenges**: задачи для программистов
- **Автоматическая проверка** кода
- **Бейджи достижений** за пройденные тесты
- **Верификация навыков**: "Проверено платформой"

### 8. **Система рейтингов и отзывов**
- Кандидаты могут **оценивать** компании/HR
- HR могут **оценивать** кандидатов (после найма)
- **Публичные отзывы** о процессе найма
- **Рейтинг HR-специалистов** на платформе
- **Черный список**: защита от спама

### 9. **Монетизация**
- **Бесплатный план**: 5 запросов/месяц для HR
- **Premium план**: безлимитные запросы, приоритетная поддержка
- **Компании**: управление командой HR, общая база кандидатов
- **Продвижение профилей** кандидатов
- **Спонсорство вакансий**: вакансия на первой странице

### 10. **Мобильное приложение**
- **iOS/Android** версия (React Native / Flutter)
- **Push-уведомления** о новых запросах
- **Быстрый отклик** на сообщения
- **Сканирование резюме** камерой
- **Голосовой ввод** для сообщений

### 11. **Безопасность и приватность**
- **Двухфакторная аутентификация** (2FA)
- **Анонимный режим**: скрыть профиль от текущего работодателя
- **GDPR compliance**: удаление данных по запросу
- **Защита от парсинга**: captcha, rate limiting
- **Верификация компаний**: проверка подлинности HR

### 12. **Расширенный профиль**
- **Портфолио**: загрузка проектов, кейсов
- **Видео-резюме**: краткая презентация (30-60 сек)
- **Сертификаты**: загрузка и верификация
- **Образование**: детальная информация о дипломах
- **Языки**: уровень владения (A1-C2)
- **Зарплатные ожидания**: диапазон, валюта

---

## 📝 Инструкции по запуску

### 1. Удалите старую БД (если обновляетесь):
```bash
rm hr_agent.db
```

### 2. Установите зависимости:
```bash
pip install -r requirements.txt
```

### 3. Запустите Ollama:
```bash
ollama serve
ollama pull gpt-oss:20b-cloud
```

### 4. Запустите платформу:
```bash
python hr_platform.py
```

### 5. Откройте браузер:
```
http://localhost:8000
```

---

## 🎨 Архитектура

```
┌─────────────────────────────────────────────────────┐
│                   HR Agent Platform                  │
├─────────────────────────────────────────────────────┤
│                                                      │
│  ┌─────────────┐           ┌──────────────┐        │
│  │  Candidate  │───────────│  HR-спец     │        │
│  │             │  Request  │              │        │
│  │ • Profile   │◄──────────│ • Search     │        │
│  │ • Resume    │           │ • View       │        │
│  │ • Analysis  │           │ • Request    │        │
│  │ • Notif 🔔  │           │ • Contacts   │        │
│  └─────────────┘           └──────────────┘        │
│        │                          │                 │
│        └──────────┬───────────────┘                 │
│                   │                                 │
│                   ▼                                 │
│         ┌──────────────────┐                        │
│         │   SQLite DB      │                        │
│         │  • Users         │                        │
│         │  • Requests      │                        │
│         │  • Analysis      │                        │
│         │  • Sessions      │                        │
│         └──────────────────┘                        │
│                   │                                 │
│                   ▼                                 │
│         ┌──────────────────┐                        │
│         │   AI (Ollama)    │                        │
│         │  gpt-oss:20b     │                        │
│         └──────────────────┘                        │
│                                                      │
└─────────────────────────────────────────────────────┘
```

---

## ⚡ Технологии

- **Backend**: FastAPI
- **Database**: SQLite + SQLAlchemy
- **AI**: Ollama (gpt-oss:20b-cloud)
- **Frontend**: HTML + CSS + Vanilla JS
- **File Upload**: PDF, DOCX, PNG, JPG
- **Authentication**: Session-based (HTTP-only cookies)
- **Security**: SHA-256 password hashing

---

## 📊 Статистика кода

- **Строк кода**: 3305
- **Функции**: 30+
- **Роутов**: 25+
- **Моделей БД**: 4
- **API эндпоинты**: 15+

---

🎉 **Платформа готова к использованию!**
